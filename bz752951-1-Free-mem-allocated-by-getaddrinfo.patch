From a973b7cfb0688cd667d32df714014bbf4cf0bc77 Mon Sep 17 00:00:00 2001
From: Angus Salkeld <asalkeld@redhat.com>
Date: Fri, 11 Nov 2011 08:11:17 +1100
Subject: [PATCH] Free mem allocated by getaddrinfo

Signed-off-by: Angus Salkeld <asalkeld@redhat.com>
Reviewed-by: Steven Dake <sdake@redhat.com>
(cherry picked from commit 390391acba6490c67b659e8a447200e16e37c2d0)
---
 exec/totemip.c |    1 +
 1 files changed, 1 insertions(+), 0 deletions(-)

diff --git a/exec/totemip.c b/exec/totemip.c
index f3c3d96..aceafdb 100644
--- a/exec/totemip.c
+++ b/exec/totemip.c
@@ -304,6 +304,7 @@ int totemip_parse(struct totem_ip_address *totemip, const char *addr, int family
 	else
 		memcpy(totemip->addr, &sa6->sin6_addr, sizeof(struct in6_addr));
 
+	freeaddrinfo(ainfo);
 	return 0;
 }
 
-- 
1.7.1

